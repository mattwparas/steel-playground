!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"run_script",(function(){return h})),t.d(r,"compile_script",(function(){return v})),t.d(r,"compile_ast",(function(){return x})),t.d(r,"compile_expanded_ast",(function(){return S})),t.d(r,"main_js",(function(){return O})),t.d(r,"Playground",(function(){return P})),t.d(r,"initSync",(function(){return R})),t.d(r,"default",(function(){return T}));var o=t.p+"94a07a1efc55d735302452b7963b7f84.wasm";function i(e){const n=t.p;let r="";return(!n||n.indexOf("://")<0)&&(r+=window.location.protocol+"//"+window.location.host),r+=n||"/",r+e}let a;function s(e){const n=a.__externref_table_alloc();return a.__wbindgen_export_2.set(n,e),n}function c(e,n){try{return e.apply(this,n)}catch(e){const n=s(e);a.__wbindgen_exn_store(n)}}let l=null;function u(){return null!==l&&0!==l.byteLength||(l=new Uint8Array(a.memory.buffer)),l}function _(e,n){return e>>>=0,u().subarray(e/1,e/1+n)}const d="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function f(e,n){return e>>>=0,d.decode(u().subarray(e,e+n))}"undefined"!=typeof TextDecoder&&d.decode();let p=0;const g="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},b="function"==typeof g.encodeInto?function(e,n){return g.encodeInto(e,n)}:function(e,n){const t=g.encode(e);return n.set(t),{read:e.length,written:t.length}};function w(e,n,t){if(void 0===t){const t=g.encode(e),r=n(t.length,1)>>>0;return u().subarray(r,r+t.length).set(t),p=t.length,r}let r=e.length,o=n(r,1)>>>0;const i=u();let a=0;for(;a<r;a++){const n=e.charCodeAt(a);if(n>127)break;i[o+a]=n}if(a!==r){0!==a&&(e=e.slice(a)),o=t(o,r,r=a+3*e.length,1)>>>0;const n=u().subarray(o+a,o+r);a+=b(e,n).written,o=t(o,r,a,1)>>>0}return p=a,o}function y(e){const n=a.__wbindgen_export_2.get(e);return a.__externref_table_dealloc(e),n}function m(e){return null==e}function h(e,n,t,r){let o,i;try{const u=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),_=p,d=a.run_script(u,_,n,t,m(r)?0:s(r));var c=d[0],l=d[1];if(d[3])throw c=0,l=0,y(d[2]);return o=c,i=l,f(c,l)}finally{a.__wbindgen_free(o,i,1)}}function v(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.compile_script(i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}function x(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.compile_ast(i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}function S(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.compile_expanded_ast(i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}function O(){a.main_js()}const j="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>a.__wbg_playground_free(e>>>0,1));class P{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,j.unregister(this),e}free(){const e=this.__destroy_into_raw();a.__wbg_playground_free(e,0)}constructor(){const e=a.playground_new();return this.__wbg_ptr=e>>>0,j.register(this,this.__wbg_ptr,this),this}compileScript(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.playground_compileScript(this.__wbg_ptr,i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}compileAst(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.playground_compileAst(this.__wbg_ptr,i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}compileExpandedAst(e){let n,t;try{const i=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p,c=a.playground_compileExpandedAst(this.__wbg_ptr,i,s);var r=c[0],o=c[1];if(c[3])throw r=0,o=0,y(c[2]);return n=r,t=o,f(r,o)}finally{a.__wbindgen_free(n,t,1)}}runScript(e,n,t,r){let o,i;try{const u=w(e,a.__wbindgen_malloc,a.__wbindgen_realloc),_=p,d=a.playground_runScript(this.__wbg_ptr,u,_,n,t,m(r)?0:s(r));var c=d[0],l=d[1];if(d[3])throw c=0,l=0,y(d[2]);return o=c,i=l,f(c,l)}finally{a.__wbindgen_free(o,i,1)}}}function A(){const e={wbg:{}};return e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return c((function(e,n,t){return e.call(n,t)}),arguments)},e.wbg.__wbg_getRandomValues_3c9c0d586e575a16=function(){return c((function(e,n){globalThis.crypto.getRandomValues(_(e,n))}),arguments)},e.wbg.__wbindgen_init_externref_table=function(){const e=a.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},e.wbg.__wbindgen_string_new=function(e,n){return f(e,n)},e.wbg.__wbindgen_throw=function(e,n){throw new Error(f(e,n))},e}function M(e,n){return a=e.exports,E.__wbindgen_wasm_module=n,l=null,a.__wbindgen_start(),a}function R(e){if(void 0!==a)return a;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=A();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));return M(new WebAssembly.Instance(e,n),e)}async function E(e){if(void 0!==a)return a;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL("index_bg.wasm",i("pkg/index.js")));const n=A();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await e,n);return M(t,r)}var T=E;const W=T(o).then(e=>r),k=W.then(e=>new e.Playground);self.onmessage=e=>{"runScript"===e.data.req?async function(e){const n=await k;function t(e){self.postMessage({req:"runScript/output",output:e})}try{let r=n.runScript(e,e=>{t("[PRINT] "+e)},e=>{t("[DEBUG] "+e)},e=>{self.postMessage({req:"runScript/updateOps",ops:e})});t(`\n\nScript returned: \n\n${r}\n`)}catch(e){t("\n\nEXCEPTION: "+e)}postMessage({req:"runScript/end"})}(e.data.script):console.log("Unknown message received by worker:",e.data)},W.then(()=>{self.postMessage({req:"_ready"})}),addEventListener("message",(function(e){var t,r=e.data,o=r.type,i=r.method,a=r.id,s=r.params;"RPC"===o&&i&&((t=n[i])?Promise.resolve().then((function(){return t.apply(n,s)})):Promise.reject("No such method")).then((function(e){postMessage({type:"RPC",id:a,result:e})})).catch((function(e){var n={message:e};e.stack&&(n.message=e.message,n.stack=e.stack,n.name=e.name),postMessage({type:"RPC",id:a,error:n})}))})),postMessage({type:"RPC",method:"ready"})}]);